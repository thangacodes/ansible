pipeline {
    agent any
	parameters {
    choice choices: ['Development', 'Certification', 'Staging', 'Production'], description: 'Please select the environment?', name: 'ENVIRONMENT'
}
    stages {
    stage("deploy the artifacts if a user confirms"){
        input {
            message "Should we deploy the project?"
            }
	}
    stage('Build') {
        steps {
	    echo "The build is happening on:" ${ENVIRONMENT}
            echo 'Building..'
            }
    }
    stage('Test'){
        steps {
            echo 'Testing..'
            }
    }
    stage('Deploy') {
        steps {
            echo 'Deploying....'
            }
    }
	stage('Workspace CleanUp'){
		steps{
			sh '''
			    echo "Cleaning the Jenkins workspace"
			'''
			cleanWs()
            }
		}
	}
}
